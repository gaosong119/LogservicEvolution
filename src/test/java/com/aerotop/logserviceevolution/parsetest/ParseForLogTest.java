package com.aerotop.logserviceevolution.parsetest;

import com.aerotop.logserviceevolution.configload.LoadConfig;
import com.aerotop.logserviceevolution.messagehandler.MessageHandler;
import com.aerotop.logserviceevolution.messageparse.packMessage;
import com.aerotop.logserviceevolution.messageparse.ParseForLog;
import org.junit.jupiter.api.Test;
import org.springframework.boot.test.context.SpringBootTest;

/**
 * @ClassName: ParseForLogTest
 * @Description: 测试类
 * @Author: gaosong
 * @Date 2020/7/23 10:25
 */
@SpringBootTest
public class ParseForLogTest {
    @Test
    public void test() {
        //组包
        byte[] bytes = packMessage.packMessageToBytes();
        //byte[] bytes = ByteConvertUtils.hexStrToBytes("be5e0000056d000400000078787478003ab9a97074010000020000000048050000646664736664736166736466647366736164666164666666647366736164667364616673646673646664666473647366736466647361667366736466647366647366647361667364666473667361646673646166736466736466646664736473667366647364736673646664736166736673646664736664736664736166736466647366736164667364666473667361646673646166736466736466646664736473667364666473616673667364666473666473666473616673646664736673616466736461667364667364666466647364736673666473647366736466647361667366736466647366647366647361667364666473667361646673646166736466736466646664736473667364666473616673667364666473666473666473616673646664736673616466736461667364667364666466647364736673646664736166736673646664736664736664736166736466647366736164667364616673646673646664666473647366736466647361667366736466647366647366647361667364666473667361646673646166736466736466646664736473667364666473616673667364666473666473666473616673646664736673616466736461667364667364666466647364736673646664736166736673646664736664736664736166736466647366736164667364616673646673646664666473647366736466766473616673667364666473666473666473616673646664736673616466736461667364667366647366736164667364616673646673646664666473647366736466647361667366736466647366647366647361667364666473667361646673646166736466736466646664736473667364666473616673667364666473666473666473616673646664736673616466736461667364667364666466647364736673646664736166736673646664736664736664736166736466647366736164667364616673646673646664666473647366736466647361667366736466647366647366647361667364666473667361647364666473616673667364666473666473666473616673646664736673616466736461667364667364666466647364736673646664736166736673646664736664736664736166736466647366736164667364616673646673646664666473647366736466647361667366736466647366647366647361667364666473667373646664736166736673646664736664736664736166736466647366736164667364616673646673646664666473647366736466647361667366736466647366647366647361667364666473667361646673646166736466736466646664736473667364666473616673667364666473666473666473616673646664736673616466736466647361667366736466647366647366647361667364666473667361646673646166736466736466646664736473667364666473616673667364666473666473666473616673646664736673616466736461667364667364666466647364736673646664736166736673646664736664736664736166736466647366736164667364666473616673667364666473666473666473616673646664736673616466736461667364667364666466647364736673646664736166736673646664736664736664736166736466647366736164667364616673646673646664666473647366736466647361667366736466647366647366647361646166736466736466646664736473667364666473616673667364666473666473666473616673646664736673616466736664736473667364666473616673667364666473666473666473616673646664736673616466736400000000");
        //解包
        long l = System.currentTimeMillis();
        int num = 1000;
        for(int i=0;i<num;i++){
            MessageHandler.messageProcess(ParseForLog.unPack(bytes));
            //ParseForLog.unPack(bytes);
        }
        long end = System.currentTimeMillis();
        System.out.println("解析"+num+"次消耗时间:"+(end-l));
    }
}
